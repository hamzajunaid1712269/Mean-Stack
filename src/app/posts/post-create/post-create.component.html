<mat-card class="compose-card">
  <form #postForm="ngForm" (ngSubmit)="onAddPost(postForm)" novalidate>
    <mat-card-title>My Messages</mat-card-title>

    <mat-card-content>
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Title</mat-label>
        <input
          matInput
          type="text"
          name="title"
          required
          minlength="3"
          [(ngModel)]="enteredTitle"
          #title="ngModel"
        />
        <mat-error>
          @if (title.invalid && (title.dirty || title.touched)) {
            @if (title.errors?.['required']) { Please enter a post title. }
            @else if (title.errors?.['minlength']) { Title must be at least 3 characters. }
          }
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Message</mat-label>
        <textarea
          matInput
          rows="4"
          name="content"
          required
          [(ngModel)]="enteredContent"
          #content="ngModel"
        ></textarea>
        <mat-error>
          @if (content.invalid && (content.dirty || content.touched)) {
            @if (content.errors?.['required']) { Please enter a message. }
          }
        </mat-error>
      </mat-form-field>
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-raised-button color="accent" type="submit" [disabled]="postForm.invalid">
        Save post
      </button>
    </mat-card-actions>
  </form>
</mat-card>
